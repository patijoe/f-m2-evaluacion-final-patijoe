"use strict";const field=document.querySelector(".field"),btn=document.querySelector(".btn"),list=document.querySelector(".list"),listFav=document.querySelector(".list__favorites");let favorites=[];const savedFavorites=JSON.parse(localStorage.getItem("favorites"));function read(){remove(),fetch(`http://api.tvmaze.com/search/shows?q=${field.value}`).then(e=>e.json()).then(e=>{createElement(e);const t=document.querySelectorAll(".item__list");for(let e=0;e<t.length;e++)t[e].addEventListener("click",select),t[e].addEventListener("click",()=>{createElementFavorite(favorites)})})}function createElement(e){for(let t=0;t<e.length;t++){const n=document.createElement("li");n.classList.add("item__list");const i=document.createElement("img");i.classList.add("item__img");const c=document.createElement("h2");c.classList.add("item__title");const o=e[t].show.image;i.src=null===o?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":o.medium;const a=document.createTextNode(e[t].show.name);c.appendChild(a),n.appendChild(c),n.appendChild(i),list.appendChild(n)}}function createElementFavorite(e){removeIniFav();for(let t=0;t<e.length;t++){const n=document.createElement("li");n.classList.add("item__list-fav");const i=document.createElement("img");i.classList.add("item__img-fav");const c=document.createElement("h2");c.classList.add("item__title-fav");const o=e[t].img;console.log("__**__",o),i.src=null===o?"https://via.placeholder.com/210x295/ffffff/666666/?text=TV":o;const a=document.createTextNode(e[t].name);c.appendChild(a),n.appendChild(c),n.appendChild(i),listFav.appendChild(n)}}function select(e){const t=e.currentTarget;t.classList.toggle("item__list2");const n={};n.name=t.querySelector(".item__title").innerHTML,n.img=t.querySelector(".item__img").src,favorites.push(n),saveLocalStorage(favorites)}function saveLocalStorage(e){localStorage.setItem("favorites",JSON.stringify(e))}function remove(){list.innerHTML=""}function removeIniFav(){listFav.innerHTML=""}console.log("mmm",savedFavorites),createElementFavorite(savedFavorites),btn.addEventListener("click",read);